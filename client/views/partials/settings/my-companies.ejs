<!-- ../views/partials/settings/my-companies.ejs -->

<div class="text-center my-3">
  <button class="btn btn-blue w-100" onclick="location.href='/create-company'">
    <h6 class="fw-bold">+ Criar empresa</h6>
  </button>
</div>

<% if (companies.length === 0) { %>
<p class="text-center fw-bold">Não está associado a nenhuma empresa.</p>
<% } %> <% companies.forEach((company) => { %>
<div class="white-card d-flex p-0 justify-content-between">
  <!-- Lado esquerdo: imagem + texto -->
  <div class="d-flex">
    <!-- imagem -->
    <div class="mini-card-image-wrapper">
      <img class="structure-img" src="<%= company.pic %>" />
    </div>
    <!-- texto -->
    <div class="d-flex flex-column justify-content-between ps-2 pt-2 pb-2">
      <div class="mb-2">
        <h5 class="text-truncate" style="max-width: 135px">
          <%= company.name %>
        </h5>
        <h6 class="mb-0 fw-normal"><%= company.municipality %></h6>
      </div>
    </div>
  </div>
  <!-- Lado direito: botões -->
  <span class="pe-2 align-content-center">
    <div class="d-flex flex-column gap-2 justify-content-center pe-3 pb-2 pt-2">
      <button
        type="button"
        class="btn btn-black btn-small w-100"
        onclick="location.href='/manage-company/<%= company._id %>'"
      >
        <h6 class="mb-0" style="font-weight: 600">Gerir</h6>
      </button>
      <button
        type="button"
        class="btn btn-blue btn-small w-100"
        onclick="location.href='/company-my-announcements/<%= company._id %>'"
      >
        <h6 class="mb-0" style="font-weight: 600">Anúncios</h6>
      </button>
    </div>
  </span>
</div>

<% }); %>
